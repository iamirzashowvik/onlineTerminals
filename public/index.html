<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Terminal</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  
  <div id="left">
    <div id="topArea">
      <h1>Interactive Terminal</h1>
      <p>Write your code on the left and run it on the right.</p>
      <p>Supported languages: python, node, cpp, kotlin, c, java</p>
    </div> 
    <textarea id="code" placeholder="Write your code here..."></textarea>
    <button id="run">Run</button>
  </div>



  <div id="right">
    <div id="topArea">  
      
      
      <button id="python">Python</button>
      <button id="node">Node</button>
      <button id="cpp">C++</button>
      <button id="kotlin">Kotlin</button>
      <button id="c">C</button>
      <button id="java">Java</button>
      <a href="/test.html"><button>Docs</button></a>
     

    </div> 
    <div id="terminal"></div>
    <input type="text" id="input" placeholder="Type your commands here..." autofocus>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    const terminal = document.getElementById('terminal');
    const input = document.getElementById('input');
    const codeInput = document.getElementById('code');
    const runButton = document.getElementById('run');

    input.addEventListener('keydown', (event) => {
      if (event.key === 'Enter') {
        const command = input.value;
        terminal.innerText += `> ${command}\n`;
        console.log(`Sending input: ${command}`);
        socket.emit('input', command);
        input.value = '';
      }
    });

    socket.on('output', (data) => {
      console.log(`Received output: ${data}`);
      terminal.innerText += data;
      terminal.scrollTop = terminal.scrollHeight;
    });

    runButton.addEventListener('click', () => {
      const language = prompt("Enter the language (python, node, cpp, kotlin, c, java):", "python");
      const code = codeInput.value;
      terminal.innerText = '';
      console.log(`Starting execution for language: ${language} with code: ${code}`);
      socket.emit('start', { language, code });
    });
  </script>
</body>
</html>
